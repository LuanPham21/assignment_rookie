{"ast":null,"code":"var _jsxFileName = \"D:\\\\NashTech\\\\assignment_rookie\\\\Rookie_ecommerce\\\\rookie.admin\\\\src\\\\shared-components\\\\FormInputs\\\\FileUpload.js\",\n    _s = $RefreshSig$();\n\nimport React, { InputHTMLAttributes, useState, useEffect } from 'react';\nimport { useField } from 'formik';\nimport { X } from 'react-feather';\nimport { resizeFileToBase64, resizeFileToBlob } from '../../services/resizeImage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileUpload = props => {\n  _s();\n\n  const [value,, {\n    setValue\n  }] = useField(props);\n  const [review, setReview] = useState(props.image || '');\n\n  const handleOnChange = async e => {\n    e.preventDefault();\n\n    if (e.target.files.length > 0) {\n      await resizeFileToBlob(e.target.files[0], setValue);\n      await resizeFileToBase64(e.target.files[0], setReview);\n    }\n  };\n\n  const handleRemove = () => {\n    setValue('');\n    setReview('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3 row\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"col-4 col-form-label d-flex\",\n      children: props.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleOnChange,\n        formEncType: \"multipart/form-data\",\n        name: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), review && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-hidden mx-auto\",\n        style: {\n          maxWidth: '300px',\n          maxHeight: '330px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-4 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRemove,\n            type: \"button\",\n            className: \"absolute top-0 right-0 text-white\",\n            children: /*#__PURE__*/_jsxDEV(X, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 87\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: review,\n            className: \"object-center w-full rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FileUpload, \"n2nUEEcyzMe70YSQPqq+4Pdstt0=\", false, function () {\n  return [useField];\n});\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["D:/NashTech/assignment_rookie/Rookie_ecommerce/rookie.admin/src/shared-components/FormInputs/FileUpload.js"],"names":["React","InputHTMLAttributes","useState","useEffect","useField","X","resizeFileToBase64","resizeFileToBlob","FileUpload","props","value","setValue","review","setReview","image","handleOnChange","e","preventDefault","target","files","length","handleRemove","label","name","maxWidth","maxHeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,mBAAhB,EAAqCC,QAArC,EAA+CC,SAA/C,QAAgE,OAAhE;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,SAASC,CAAT,QAAkB,eAAlB;AAEA,SAASC,kBAAT,EAA6BC,gBAA7B,QAAqD,4BAArD;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AAC1B,QAAM,CAACC,KAAD,GAAU;AAAEC,IAAAA;AAAF,GAAV,IAA0BP,QAAQ,CAACK,KAAD,CAAxC;AACA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAACO,KAAK,CAACK,KAAN,IAAe,EAAhB,CAApC;;AAEA,QAAMC,cAAc,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,MAAf,GAAwB,CAA5B,EAA+B;AAC3B,YAAMb,gBAAgB,CAACS,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,EAAoBR,QAApB,CAAtB;AACA,YAAML,kBAAkB,CAACU,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,EAAoBN,SAApB,CAAxB;AACH;AACJ,GAND;;AAQA,QAAMQ,YAAY,GAAG,MAAM;AACvBV,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,IAAAA,SAAS,CAAC,EAAD,CAAT;AACH,GAHD;;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACI;AAAO,MAAA,SAAS,EAAC,6BAAjB;AAAA,gBACKJ,KAAK,CAACa;AADX;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAQ,QAAA,IAAI,EAAC,MAAb;AACQ,QAAA,QAAQ,EAAEP,cADlB;AAEQ,QAAA,WAAW,EAAC,qBAFpB;AAGQ,QAAA,IAAI,EAAEN,KAAK,CAACc;AAHpB;AAAA;AAAA;AAAA;AAAA,cADJ,EAMQX,MAAM,iBACF;AAAK,QAAA,SAAS,EAAC,yBAAf;AACI,QAAA,KAAK,EAAE;AAAEY,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,SAAS,EAAE;AAAhC,SADX;AAAA,+BAEI;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACI;AAAQ,YAAA,OAAO,EAAEJ,YAAjB;AACQ,YAAA,IAAI,EAAC,QADb;AAEQ,YAAA,SAAS,EAAC,mCAFlB;AAAA,mCAEsD,QAAC,CAAD;AAAA;AAAA;AAAA;AAAA;AAFtD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAK,YAAA,GAAG,EAAET,MAAV;AAAkB,YAAA,SAAS,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cAPZ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA2BH,CA5CD;;GAAMJ,U;UAC8BJ,Q;;;KAD9BI,U;AA8CN,eAAeA,UAAf","sourcesContent":["import React, { InputHTMLAttributes, useState, useEffect } from 'react';\r\nimport { useField } from 'formik';\r\nimport { X } from 'react-feather';\r\n\r\nimport { resizeFileToBase64, resizeFileToBlob } from '../../services/resizeImage';\r\n\r\nconst FileUpload = (props) => {\r\n    const [value, , { setValue }] = useField(props);\r\n    const [review, setReview] = useState(props.image || '');\r\n\r\n    const handleOnChange = async (e) => {\r\n        e.preventDefault();\r\n        if (e.target.files.length > 0) {\r\n            await resizeFileToBlob(e.target.files[0], setValue);\r\n            await resizeFileToBase64(e.target.files[0], setReview);\r\n        }\r\n    }\r\n\r\n    const handleRemove = () => {\r\n        setValue('');\r\n        setReview('');\r\n    }\r\n\r\n    return (\r\n        <div className='mb-3 row'>\r\n            <label className=\"col-4 col-form-label d-flex\">\r\n                {props.label}\r\n            </label>\r\n            <div className=\"col-8\">\r\n                <input  type=\"file\" \r\n                        onChange={handleOnChange} \r\n                        formEncType='multipart/form-data' \r\n                        name={props.name} />\r\n                {\r\n                    review && (\r\n                        <div className='overflow-hidden mx-auto'\r\n                            style={{ maxWidth: '300px', maxHeight: '330px' }}>\r\n                            <div className='col-span-4 relative'>\r\n                                <button onClick={handleRemove} \r\n                                        type='button'\r\n                                        className='absolute top-0 right-0 text-white'><X />\r\n                                </button>\r\n                                <img src={review} className='object-center w-full rounded-md' />\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </ div>\r\n    );\r\n};\r\n\r\nexport default FileUpload;"]},"metadata":{},"sourceType":"module"}